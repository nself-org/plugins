# =============================================================================
# Content Acquisition Plugin - Environment Configuration
# =============================================================================
# Automated content discovery and acquisition via RSS feeds, search monitoring,
# and cross-plugin orchestration
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED - Auto-provided by nself CLI
# -----------------------------------------------------------------------------

# PostgreSQL connection string (auto-provided by nself)
DATABASE_URL=postgresql://postgres:password@localhost:5432/nself_db

# -----------------------------------------------------------------------------
# REQUIRED - Inter-Plugin Communication
# -----------------------------------------------------------------------------

# Metadata Enrichment Plugin URL
# Used for content identification and metadata lookup
METADATA_ENRICHMENT_URL=http://localhost:3203

# Torrent Manager Plugin URL
# Used for torrent search and download operations
TORRENT_MANAGER_URL=http://localhost:3201

# VPN Manager Plugin URL
# Used for VPN status checking before downloads
VPN_MANAGER_URL=http://localhost:3200

# -----------------------------------------------------------------------------
# REQUIRED - Security Configuration (auto-provided by nself)
# -----------------------------------------------------------------------------

# API key for inter-plugin authentication
CONTENT_ACQUISITION_API_KEY=your-api-key-here

# Rate limiting (requests per window)
CONTENT_ACQUISITION_RATE_LIMIT_MAX=100

# Rate limiting window (milliseconds)
CONTENT_ACQUISITION_RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# OPTIONAL - Server Configuration
# -----------------------------------------------------------------------------

# Server port (default from plugin.json: 3202)
CONTENT_ACQUISITION_PORT=3202

# Log level: debug, info, warn, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# OPTIONAL - Plugin Integration URLs
# -----------------------------------------------------------------------------

# Subtitle Manager Plugin URL (for automatic subtitle downloads)
SUBTITLE_MANAGER_URL=http://localhost:3204

# Media Processing Plugin URL (for automatic transcoding after download)
MEDIA_PROCESSING_URL=http://localhost:3019

# nTV Backend URL (for content library integration)
NTV_BACKEND_URL=http://localhost:4000

# -----------------------------------------------------------------------------
# OPTIONAL - Redis Configuration
# -----------------------------------------------------------------------------

# Redis host for job queuing and caching
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# OPTIONAL - RSS Feed Configuration
# -----------------------------------------------------------------------------

# RSS feed check interval (minutes)
# How often to poll configured RSS feeds for new content
RSS_CHECK_INTERVAL=30

# -----------------------------------------------------------------------------
# Integration Workflow
# -----------------------------------------------------------------------------
#
# Content Acquisition orchestrates the complete content pipeline:
#
# 1. Discovery:
#    - Monitor RSS feeds (Showrss, EZTV, etc.)
#    - Track user watchlists and favorites
#    - Detect new episodes/releases
#
# 2. Identification:
#    - Call Metadata Enrichment to identify content
#    - Verify against existing library (nTV Backend)
#    - Apply quality preferences
#
# 3. Acquisition:
#    - Search torrents via Torrent Manager
#    - Verify VPN status via VPN Manager
#    - Initiate download with quality preference
#
# 4. Post-Processing:
#    - Request subtitles via Subtitle Manager
#    - Queue transcoding via Media Processing
#    - Update library in nTV Backend
#
# Example RSS feeds:
#   - ShowRSS: https://showrss.info/user/<user_id>.rss
#   - EZTV: https://eztv.re/ezrss.xml
#   - Custom torrent site RSS feeds
#
# Plugin Chain:
#   Content Acquisition → Metadata Enrichment → Torrent Manager → VPN Manager
#                      → Subtitle Manager → Media Processing → nTV Backend
# -----------------------------------------------------------------------------
