# =============================================================================
# Notifications Plugin Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nself

# -----------------------------------------------------------------------------
# Email Providers
# -----------------------------------------------------------------------------

# Resend (recommended)
NOTIFICATIONS_EMAIL_PROVIDER=resend
NOTIFICATIONS_EMAIL_API_KEY=re_xxxxxxxxxxxx
NOTIFICATIONS_EMAIL_FROM=notifications@example.com

# SendGrid
# NOTIFICATIONS_EMAIL_PROVIDER=sendgrid
# NOTIFICATIONS_EMAIL_API_KEY=SG.xxxxxxxxxxxx
# NOTIFICATIONS_EMAIL_FROM=notifications@example.com

# Mailgun
# NOTIFICATIONS_EMAIL_PROVIDER=mailgun
# NOTIFICATIONS_EMAIL_API_KEY=key-xxxxxxxxxxxx
# NOTIFICATIONS_EMAIL_DOMAIN=mg.example.com
# NOTIFICATIONS_EMAIL_FROM=notifications@example.com

# AWS SES
# NOTIFICATIONS_EMAIL_PROVIDER=ses
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=xxxxxxxxxxxx
# AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxx
# NOTIFICATIONS_EMAIL_FROM=notifications@example.com

# SMTP (generic)
# NOTIFICATIONS_EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# NOTIFICATIONS_EMAIL_FROM=notifications@example.com

# -----------------------------------------------------------------------------
# Push Notifications
# -----------------------------------------------------------------------------

# Firebase Cloud Messaging
# NOTIFICATIONS_PUSH_PROVIDER=fcm
# NOTIFICATIONS_PUSH_API_KEY=xxxxxxxxxxxx
# NOTIFICATIONS_PUSH_PROJECT_ID=your-project-id

# OneSignal
# NOTIFICATIONS_PUSH_PROVIDER=onesignal
# NOTIFICATIONS_PUSH_APP_ID=xxxxxxxxxxxx
# NOTIFICATIONS_PUSH_API_KEY=xxxxxxxxxxxx

# Web Push (VAPID)
# NOTIFICATIONS_PUSH_PROVIDER=webpush
# NOTIFICATIONS_PUSH_VAPID_PUBLIC_KEY=xxxxxxxxxxxx
# NOTIFICATIONS_PUSH_VAPID_PRIVATE_KEY=xxxxxxxxxxxx
# NOTIFICATIONS_PUSH_VAPID_SUBJECT=mailto:admin@example.com

# -----------------------------------------------------------------------------
# SMS Providers
# -----------------------------------------------------------------------------

# Twilio
# NOTIFICATIONS_SMS_PROVIDER=twilio
# NOTIFICATIONS_SMS_ACCOUNT_SID=ACxxxxxxxxxxxx
# NOTIFICATIONS_SMS_AUTH_TOKEN=xxxxxxxxxxxx
# NOTIFICATIONS_SMS_FROM=+1234567890

# Plivo
# NOTIFICATIONS_SMS_PROVIDER=plivo
# NOTIFICATIONS_SMS_AUTH_ID=xxxxxxxxxxxx
# NOTIFICATIONS_SMS_AUTH_TOKEN=xxxxxxxxxxxx
# NOTIFICATIONS_SMS_FROM=+1234567890

# AWS SNS
# NOTIFICATIONS_SMS_PROVIDER=sns
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=xxxxxxxxxxxx
# AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxx

# -----------------------------------------------------------------------------
# Queue & Worker Configuration
# -----------------------------------------------------------------------------

# Queue backend (redis or postgres)
NOTIFICATIONS_QUEUE_BACKEND=redis
REDIS_URL=redis://localhost:6379

# Worker settings
WORKER_CONCURRENCY=5
WORKER_POLL_INTERVAL=1000

# -----------------------------------------------------------------------------
# Retry & Rate Limiting
# -----------------------------------------------------------------------------

# Retry configuration
NOTIFICATIONS_RETRY_ATTEMPTS=3
NOTIFICATIONS_RETRY_DELAY=1000
NOTIFICATIONS_MAX_RETRY_DELAY=300000

# Rate limits (per user per hour)
NOTIFICATIONS_RATE_LIMIT_EMAIL=100
NOTIFICATIONS_RATE_LIMIT_PUSH=200
NOTIFICATIONS_RATE_LIMIT_SMS=20

# -----------------------------------------------------------------------------
# Batch/Digest Configuration
# -----------------------------------------------------------------------------

# Batch send interval in seconds (default: 86400 = daily)
NOTIFICATIONS_BATCH_INTERVAL=86400

# Enable batch processing
NOTIFICATIONS_BATCH_ENABLED=true

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# HTTP server
PORT=3102
HOST=0.0.0.0

# Webhook configuration
NOTIFICATIONS_WEBHOOK_SECRET=your-webhook-secret-key

# -----------------------------------------------------------------------------
# Features
# -----------------------------------------------------------------------------

# Enable specific channels
NOTIFICATIONS_EMAIL_ENABLED=true
NOTIFICATIONS_PUSH_ENABLED=false
NOTIFICATIONS_SMS_ENABLED=false

# Enable engagement tracking (email open/click tracking)
NOTIFICATIONS_TRACKING_ENABLED=true

# Enable quiet hours (respect user preferences)
NOTIFICATIONS_QUIET_HOURS_ENABLED=true

# -----------------------------------------------------------------------------
# Development/Testing
# -----------------------------------------------------------------------------

# Dry run mode (don't actually send, just log)
NOTIFICATIONS_DRY_RUN=false

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Test mode (use test credentials)
NOTIFICATIONS_TEST_MODE=false

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------

# Encrypt sensitive provider configs in database
NOTIFICATIONS_ENCRYPT_CONFIG=true
NOTIFICATIONS_ENCRYPTION_KEY=your-32-character-encryption-key

# Enable webhook signature verification
NOTIFICATIONS_WEBHOOK_VERIFY=true
