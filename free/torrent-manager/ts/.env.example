# =============================================================================
# Torrent Manager Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# Documentation: See README.md for detailed configuration guide

# -----------------------------------------------------------------------------
# Required Variables (Plugin will not start without these)
# -----------------------------------------------------------------------------

# Database connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/nself_db

# VPN Manager API URL (required for VPN enforcement)
# The torrent manager checks VPN status before starting downloads
VPN_MANAGER_URL=http://localhost:3200

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Server port (default: 3201)
TORRENT_MANAGER_PORT=3201

# Logging level (debug|info|warn|error) - default: info
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# VPN Settings
# -----------------------------------------------------------------------------

# Require active VPN before starting downloads (true|false)
# Default: true - Downloads will be blocked if VPN is not connected
VPN_REQUIRED=true

# -----------------------------------------------------------------------------
# Torrent Client Configuration
# -----------------------------------------------------------------------------

# Default torrent client to use (transmission|qbittorrent)
DEFAULT_TORRENT_CLIENT=transmission

# Transmission Settings
TRANSMISSION_HOST=localhost
TRANSMISSION_PORT=9091
TRANSMISSION_USERNAME=
TRANSMISSION_PASSWORD=

# qBittorrent Settings
QBITTORRENT_HOST=localhost
QBITTORRENT_PORT=8080
QBITTORRENT_USERNAME=
QBITTORRENT_PASSWORD=

# -----------------------------------------------------------------------------
# Download Settings
# -----------------------------------------------------------------------------

# Default download directory path
# Must be accessible by the torrent client
DOWNLOAD_PATH=/downloads

# Maximum concurrent active downloads
MAX_ACTIVE_DOWNLOADS=5

# -----------------------------------------------------------------------------
# Search Configuration
# -----------------------------------------------------------------------------

# Enabled torrent search sources (comma-separated)
# Available: 1337x, yts, torrentgalaxy, tpb (The Pirate Bay)
ENABLED_SOURCES=1337x,yts,torrentgalaxy,tpb

# Deprecated alias for ENABLED_SOURCES (use ENABLED_SOURCES instead)
# SEARCH_ENABLED_SOURCES=1337x,yts,torrentgalaxy,tpb

# Search timeout per source (milliseconds)
SEARCH_TIMEOUT_MS=10000

# Search result cache TTL (seconds)
SEARCH_CACHE_TTL_SECONDS=3600

# -----------------------------------------------------------------------------
# Seeding Policy
# -----------------------------------------------------------------------------

# Stop seeding after reaching this upload/download ratio
# Example: 2.0 means stop after uploading 2x the downloaded amount
SEEDING_RATIO_LIMIT=2.0

# Stop seeding after this many hours (168 = 1 week)
SEEDING_TIME_LIMIT_HOURS=168
