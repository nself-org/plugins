# =============================================================================
# Subtitle Manager Plugin - Environment Configuration
# =============================================================================
# Multi-source subtitle search, download, format conversion, and automatic
# synchronization with video files
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED - Auto-provided by nself CLI
# -----------------------------------------------------------------------------

# PostgreSQL connection string (auto-provided by nself)
DATABASE_URL=postgresql://postgres:password@localhost:5432/nself_db

# -----------------------------------------------------------------------------
# REQUIRED - Security Configuration (auto-provided by nself)
# -----------------------------------------------------------------------------

# API key for inter-plugin authentication
SUBTITLE_MANAGER_API_KEY=your-api-key-here

# Rate limiting (requests per window)
SUBTITLE_MANAGER_RATE_LIMIT_MAX=100

# Rate limiting window (milliseconds)
SUBTITLE_MANAGER_RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# OPTIONAL - Server Configuration
# -----------------------------------------------------------------------------

# Server port (default from plugin.json: 3204)
SUBTITLE_MANAGER_PORT=3204

# Log level: debug, info, warn, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# OPTIONAL - External API Configuration
# -----------------------------------------------------------------------------

# OpenSubtitles API Key (for subtitle search and download)
# Get your API key at: https://www.opensubtitles.com/api
# Required for OpenSubtitles.com/OpenSubtitles.org integration
OPENSUBTITLES_API_KEY=your-opensubtitles-api-key

# -----------------------------------------------------------------------------
# OPTIONAL - Storage Configuration
# -----------------------------------------------------------------------------

# Local storage path for downloaded subtitles
# Must be accessible to Media Processing plugin for embedding
SUBTITLE_STORAGE_PATH=/tmp/subtitles

# -----------------------------------------------------------------------------
# OPTIONAL - Synchronization Tools
# -----------------------------------------------------------------------------

# Path to alass binary (automatic subtitle synchronization)
# Install: cargo install alass-cli
# Or download from: https://github.com/kaegi/alass
ALASS_PATH=alass

# Path to ffsubsync binary (FFmpeg-based subtitle synchronization)
# Install: pip install ffsubsync
# Requires FFmpeg to be installed
FFSUBSYNC_PATH=ffsubsync

# -----------------------------------------------------------------------------
# Subtitle Source Notes
# -----------------------------------------------------------------------------
#
# Supported Sources:
#   1. OpenSubtitles (requires API key)
#      - Largest subtitle database
#      - Multiple languages
#      - Community-contributed
#
#   2. Subscene (web scraping)
#      - High-quality subtitles
#      - Manual verification
#      - No API required
#
#   3. Addic7ed (web scraping)
#      - TV show focused
#      - Fast release timing
#      - No API required
#
# Automatic Synchronization:
#   - alass: Fast, accurate, Rust-based
#   - ffsubsync: Python-based, uses FFmpeg audio analysis
#   - Both tools automatically adjust subtitle timing to match video
#
# Format Support:
#   - Input: SRT, ASS, SSA, VTT, SUB
#   - Output: SRT (standard), VTT (web), ASS (styled)
#   - Automatic conversion between formats
#
# Integration with Media Processing:
#   - Subtitles can be embedded during transcoding
#   - Soft subtitles (separate file) or hard subtitles (burned in)
#   - Multiple language tracks supported
# -----------------------------------------------------------------------------
